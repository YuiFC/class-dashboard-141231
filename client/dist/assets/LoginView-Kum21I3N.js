import{_ as y,u as L,r as m,c as U,a as e,w as o,b as a,d as z,o as B,e as u,f as p,E as d}from"./index-vBUVIBNg.js";const C={class:"auth-container"},E={class:"auth-links"},N={__name:"LoginView",setup(S){const f=L(),v=z(),s=m(!1),t=m({email:"",password:""}),w=async()=>{if(!t.value.email||!t.value.password){d.warning("请填写完整信息");return}s.value=!0;try{await f.login(t.value),d.success("登录成功"),v.push("/dashboard")}catch(i){d.error(i.message||"登录失败")}finally{s.value=!1}};return(i,l)=>{const g=a("User"),_=a("el-icon"),c=a("el-input"),n=a("el-form-item"),h=a("Lock"),V=a("el-button"),k=a("router-link"),x=a("el-form"),b=a("el-card");return B(),U("div",C,[e(b,{class:"auth-card"},{header:o(()=>[...l[2]||(l[2]=[u("div",{class:"card-header"},[u("h2",null,"班级看板登录")],-1)])]),default:o(()=>[e(x,{model:t.value,"label-width":"0"},{default:o(()=>[e(n,null,{default:o(()=>[e(c,{modelValue:t.value.email,"onUpdate:modelValue":l[0]||(l[0]=r=>t.value.email=r),placeholder:"请输入学校邮箱",size:"large"},{prefix:o(()=>[e(_,null,{default:o(()=>[e(g)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:o(()=>[e(c,{modelValue:t.value.password,"onUpdate:modelValue":l[1]||(l[1]=r=>t.value.password=r),type:"password",placeholder:"请输入密码",size:"large","show-password":""},{prefix:o(()=>[e(_,null,{default:o(()=>[e(h)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:o(()=>[e(V,{type:"primary",class:"full-width-btn",size:"large",onClick:w,loading:s.value},{default:o(()=>[...l[3]||(l[3]=[p(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1}),u("div",E,[e(k,{to:"/register"},{default:o(()=>[...l[4]||(l[4]=[p("还没有账号？去注册",-1)])]),_:1})])]),_:1},8,["model"])]),_:1})])}}},I=y(N,[["__scopeId","data-v-f5ec2395"]]);export{I as default};
