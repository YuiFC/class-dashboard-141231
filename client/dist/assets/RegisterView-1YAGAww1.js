import{_ as U,u as z,r as c,c as R,a as e,w as l,b as t,d as B,o as C,e as i,f as p,E as _}from"./index-vBUVIBNg.js";const E={class:"auth-container"},M={class:"auth-links"},N={__name:"RegisterView",setup(L){const f=z(),v=B(),r=c(!1),a=c({name:"",email:"",password:""}),g=async()=>{if(!a.value.name||!a.value.email||!a.value.password){_.warning("请填写完整信息");return}r.value=!0;try{await f.register(a.value),_.success("注册成功，请登录"),v.push("/login")}catch(m){_.error(m.message||"注册失败")}finally{r.value=!1}};return(m,o)=>{const w=t("User"),u=t("el-icon"),d=t("el-input"),n=t("el-form-item"),V=t("Message"),h=t("Lock"),k=t("el-button"),x=t("router-link"),y=t("el-form"),b=t("el-card");return C(),R("div",E,[e(b,{class:"auth-card"},{header:l(()=>[...o[3]||(o[3]=[i("div",{class:"card-header"},[i("h2",null,"注册新账号")],-1)])]),default:l(()=>[e(y,{model:a.value,"label-width":"0"},{default:l(()=>[e(n,null,{default:l(()=>[e(d,{modelValue:a.value.name,"onUpdate:modelValue":o[0]||(o[0]=s=>a.value.name=s),placeholder:"请输入姓名（实名方便老师辨认）",size:"large"},{prefix:l(()=>[e(u,null,{default:l(()=>[e(w)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:l(()=>[e(d,{modelValue:a.value.email,"onUpdate:modelValue":o[1]||(o[1]=s=>a.value.email=s),placeholder:"请输入学校邮箱",size:"large"},{prefix:l(()=>[e(u,null,{default:l(()=>[e(V)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:l(()=>[e(d,{modelValue:a.value.password,"onUpdate:modelValue":o[2]||(o[2]=s=>a.value.password=s),type:"password",placeholder:"设置密码",size:"large","show-password":""},{prefix:l(()=>[e(u,null,{default:l(()=>[e(h)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:l(()=>[e(k,{type:"primary",class:"full-width-btn",size:"large",onClick:g,loading:r.value},{default:l(()=>[...o[4]||(o[4]=[p(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1}),i("div",M,[e(x,{to:"/login"},{default:l(()=>[...o[5]||(o[5]=[p("已有账号？去登录",-1)])]),_:1})])]),_:1},8,["model"])]),_:1})])}}},A=U(N,[["__scopeId","data-v-4c643155"]]);export{A as default};
